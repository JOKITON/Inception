version: '3'
name: test

services:
  nginx:
    image: nginx
    build:
      context: ./nginx
      dockerfile: Dockerfile
    ports:
      - "443:443"
    restart: always
    networks:
        - network

  wordpress:
    image: wordpress
    build:
      context: ./wordpress
      dockerfile: Dockerfile
    ports:
      - "9000:9000"  # Use a different host port, for example, 8080
    restart: always
    volumes:
      - ./src:/var/www/html
    networks:
      - network

networks:
  network:
    driver: bridge # Default network. Creates a virtual network in the host, connecting containers through a virtual "bridge".

volumes:
  wordpress_data:
    driver: local
    external: false
    name: wordpress-volume